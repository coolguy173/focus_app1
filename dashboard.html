{% extends 'base.html' %}
{% block title %}Dashboard â€” Focus Battle{% endblock %}

{% block content %}

<!-- â”€â”€ Navigation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<nav class="navbar">
  <div class="nav-brand">
    <span class="logo-icon">âš”</span>
    <span class="logo-text">Focus<span>Battle</span></span>
  </div>

  <div class="nav-center">
    <!-- Theme Selector -->
    <div class="theme-selector">
      <span class="theme-label">THEME</span>
      <div class="theme-pills">
        <button class="theme-pill" data-theme="theme-lofi"     title="Lo-Fi Study">ğŸŒ™</button>
        <button class="theme-pill" data-theme="theme-porsche"  title="Porsche Dark">ğŸ</button>
        <button class="theme-pill" data-theme="theme-f1"       title="F1 Night Race">ğŸ</button>
        <button class="theme-pill" data-theme="theme-nyc"      title="NYC Skyline">ğŸŒ†</button>
        <button class="theme-pill" data-theme="theme-liquid"   title="Liquid Metal">ğŸ’ </button>
      </div>
    </div>
  </div>

  <div class="nav-right">
    <a href="/leaderboard" class="btn btn-ghost">Leaderboard</a>
    <a href="/logout" class="btn btn-ghost">Logout</a>
  </div>
</nav>

<!-- â”€â”€ Main Arena â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<main class="arena">

  <!-- Stats Bar -->
  <div class="stats-bar">
    <div class="stat-chip">
      <span class="stat-label">Fighter</span>
      <span class="stat-value" id="stat-username">{{ user.username }}</span>
    </div>
    <div class="stat-chip win">
      <span class="stat-label">Wins</span>
      <span class="stat-value" id="stat-wins">{{ user.wins }}</span>
    </div>
    <div class="stat-chip loss">
      <span class="stat-label">Losses</span>
      <span class="stat-value" id="stat-losses">{{ user.losses }}</span>
    </div>
    <div class="stat-chip streak">
      <span class="stat-label">Streak</span>
      <span class="stat-value" id="stat-streak">{{ user.streak }}ğŸ”¥</span>
    </div>
  </div>

  <!-- Timer Card -->
  <div class="timer-card" id="timer-card">
    <div class="timer-status" id="timer-status">READY TO BATTLE</div>
    <div class="timer-display" id="timer-display">25:00</div>
    <div class="timer-progress-wrap">
      <div class="timer-progress-bar" id="timer-progress"></div>
    </div>
    <p class="timer-hint" id="timer-hint">
      Lock in for 25 minutes. Leave early and you <strong>lose</strong>.
    </p>

    <!-- Buttons -->
    <div class="timer-actions">
      <button class="btn btn-battle" id="btn-start">START BATTLE</button>
      <button class="btn btn-abandon hidden" id="btn-abandon">Abandon (counts as loss)</button>
    </div>
  </div>

  <!-- Result overlay (hidden until session ends) -->
  <div class="result-overlay hidden" id="result-overlay">
    <div class="result-card" id="result-card">
      <div class="result-icon" id="result-icon">ğŸ†</div>
      <h2 class="result-title" id="result-title">Victory!</h2>
      <p class="result-message" id="result-message">You stayed locked in. Respect.</p>
      <div class="result-stats">
        <div class="r-stat"><span>Wins</span><strong id="r-wins">0</strong></div>
        <div class="r-stat"><span>Losses</span><strong id="r-losses">0</strong></div>
        <div class="r-stat"><span>Streak</span><strong id="r-streak">0</strong></div>
      </div>
      <button class="btn btn-battle" id="btn-again">Battle Again</button>
    </div>
  </div>

</main>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/timer.js') }}"></script>
{% endblock %}
